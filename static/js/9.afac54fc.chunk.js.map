{"version":3,"sources":["components/List.tsx","pages/History.tsx"],"names":["Img","styled","img","Component","observer","HistoryStore","useStores","useEffect","console","log","find","reset","id","dataLength","list","length","loader","style","margin","width","isLoading","hasMore","tip","next","dataSource","renderItem","item","Item","src","url","filename","target","rel","href","History","List"],"mappings":"wLAOMA,EAAMC,IAAOC,IAAV,kHAmEMC,EA5DGC,aAAS,WACzB,IAAOC,EAAgBC,cAAhBD,aAeP,OATAE,qBAAU,WAGR,OAFAC,QAAQC,IAAI,4BACZJ,EAAaK,OACN,WACLF,QAAQC,IAAI,gBACZJ,EAAaM,WAEd,CAACN,IAGF,qBAAKO,GAAG,GAAR,SACE,cAAC,IAAD,CACEC,WAAYR,EAAaS,KAAKC,OAC9BC,OACE,qBAAKC,MAAO,CAACC,OAAQ,SAAUC,MAAO,QAAtC,SACGd,EAAae,WAAaf,EAAagB,SAAW,cAAC,IAAD,CAAMC,IAAI,yBAGjEC,KAtBW,WACflB,EAAaK,QAsBTW,SAAUhB,EAAae,WAAaf,EAAagB,QARnD,SAUE,cAAC,IAAD,CACEG,WAAYnB,EAAaS,KACzBW,WAAY,SAAAC,GAAI,OACd,eAAC,IAAKC,KAAN,WACE,8BACE,cAAC3B,EAAD,CAAK4B,IAAKF,EAAKG,QAKjB,8BACE,6BAAKH,EAAKI,aAEZ,8BACE,mBAAGC,OAAO,SAASC,IAAI,aAAaC,KAAMP,EAAKG,IAA/C,SACGH,EAAKG,UAZIH,EAAKd,KAHzB,SAqBGP,EAAae,WAAaf,EAAagB,SACtC,qBAAKJ,MAAO,CAACC,OAAQ,SAAUC,MAAO,QAAtC,SACE,cAAC,IAAD,CAAMG,IAAI,kCCtDTY,UARf,WACE,OACE,mCACE,cAACC,EAAD","file":"static/js/9.afac54fc.chunk.js","sourcesContent":["import React, {useEffect} from 'react';\nimport {observer} from 'mobx-react';\nimport {useStores} from '../stores';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport {List, Spin} from 'antd';\nimport styled from 'styled-components';\n\nconst Img = styled.img`\n  width: 120px;\n  height: 120px;\n  object-fit: contain;\n  border: 1px solid #eee;\n`;\n\nconst Component = observer(() => {\n  const {HistoryStore} = useStores();\n\n  const loadMore = () => {\n    HistoryStore.find();\n  };\n\n  useEffect(() => {\n    console.log('进入组件');\n    HistoryStore.find();\n    return () => {\n      console.log('卸载');\n      HistoryStore.reset();\n    };\n  }, [HistoryStore]);\n\n  return (\n    <div id=\"\">\n      <InfiniteScroll\n        dataLength={HistoryStore.list.length}\n        loader={\n          <div style={{margin: '0 auto', width: '50px'}}>\n            {HistoryStore.isLoading && HistoryStore.hasMore && <Spin tip=\"加载中\" />}\n          </div>\n        }\n        next={loadMore}\n        hasMore={!HistoryStore.isLoading && HistoryStore.hasMore}\n      >\n        <List\n          dataSource={HistoryStore.list}\n          renderItem={item => (\n            <List.Item key={item.id}>\n              <div>\n                <Img src={item.url} />\n              </div>\n              {/* <div>\n                <h4>{item.fileId}</h4>\n              </div> */}\n              <div>\n                <h4>{item.filename}</h4>\n              </div>\n              <div>\n                <a target=\"_blank\" rel=\"noreferrer\" href={item.url}>\n                  {item.url}\n                </a>\n              </div>\n            </List.Item>\n          )}\n        >\n          {HistoryStore.isLoading && HistoryStore.hasMore && (\n            <div style={{margin: '0 auto', width: '50px'}}>\n              <Spin tip=\"加载中\" />\n            </div>\n          )}\n        </List>\n      </InfiniteScroll>\n    </div>\n  );\n});\n\nexport default Component;\n","import React from 'react';\nimport List from 'components/List';\n\nfunction History() {\n  return (\n    <>\n      <List></List>\n    </>\n  );\n}\n\nexport default History;\n"],"sourceRoot":""}