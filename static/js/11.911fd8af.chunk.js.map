{"version":3,"sources":["pages/SignIn.tsx"],"names":["Wrapper","styled","div","SignIn","AuthStore","useStores","history","useHistory","name","labelCol","span","wrapperCol","onFinish","values","console","log","setUsername","username","setPassword","password","signIn","then","user","push","catch","e","onFinishFailed","errorInfo","autoComplete","Item","label","rules","required","message","placeholder","Password","offset","type","htmlType"],"mappings":"iLAKMA,EAAUC,IAAOC,IAAV,sKA0FEC,UA7EA,WACb,IAAOC,EAAaC,cAAbD,UACDE,EAAUC,cAmBhB,OACE,eAACP,EAAD,WACE,8CACA,eAAC,IAAD,CACEQ,KAAK,QACLC,SAAU,CACRC,KAAM,GAERC,WAAY,CACVD,KAAM,IAERE,SA7BW,SAACC,GAChBC,QAAQC,IAAI,UAAWF,GACvBT,EAAUY,YAAYH,EAAOI,UAC7Bb,EAAUc,YAAYL,EAAOM,UAC7Bf,EAAUgB,SACPC,MAAK,SAAAC,GACJR,QAAQC,IAAI,6BAA8BO,GAC1ChB,EAAQiB,KAAR,QAEDC,OAAM,SAAAC,GACLX,QAAQC,IAAI,4BAA6BU,OAoBzCC,eAhBiB,SAACC,GACtBb,QAAQC,IAAI,UAAWY,IAgBnBC,aAAa,MAVf,UAYE,cAAC,IAAKC,KAAN,CACEC,MAAM,qBACNtB,KAAK,WACLuB,MAAO,CACL,CACEC,UAAU,EACVC,QAAS,yCANf,SAUE,cAAC,IAAD,CAAOC,YAAY,2CAGrB,cAAC,IAAKL,KAAN,CACEC,MAAM,eACNtB,KAAK,WACLuB,MAAO,CACL,CACEC,UAAU,EACVC,QAAS,oCANf,SAUE,cAAC,IAAME,SAAP,CAAgBD,YAAY,qCAG9B,cAAC,IAAKL,KAAN,CACElB,WAAY,CACVyB,OAAQ,GACR1B,KAAM,IAHV,SAME,cAAC,IAAD,CAAQ2B,KAAK,UAAUC,SAAS,SAAhC","file":"static/js/11.911fd8af.chunk.js","sourcesContent":["import {Form, Input, Button} from 'antd';\nimport {useHistory} from 'react-router';\nimport {useStores} from 'stores';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  max-width: 600px;\n  margin: 30px auto;\n  box-shadow: 2px 2px 4px 0 rgba(0, 0, 0, 0.2);\n  border-radius: 4px;\n  padding: 20px 30px;\n`;\n\ntype UserInfo = {\n  username: string;\n  password: string;\n};\n\nconst SignIn = () => {\n  const {AuthStore} = useStores();\n  const history = useHistory();\n  const onFinish = (values: UserInfo) => {\n    console.log('sign in', values);\n    AuthStore.setUsername(values.username);\n    AuthStore.setPassword(values.password);\n    AuthStore.signIn()\n      .then(user => {\n        console.log('component: sign in success', user);\n        history.push(`/`);\n      })\n      .catch(e => {\n        console.log('component: sign in failed', e);\n      });\n  };\n\n  const onFinishFailed = (errorInfo: any) => {\n    console.log('Failed:', errorInfo);\n  };\n\n  return (\n    <Wrapper>\n      <h1>登录</h1>\n      <Form\n        name=\"basic\"\n        labelCol={{\n          span: 4,\n        }}\n        wrapperCol={{\n          span: 20,\n        }}\n        onFinish={onFinish}\n        onFinishFailed={onFinishFailed}\n        autoComplete=\"off\"\n      >\n        <Form.Item\n          label=\"用户名\"\n          name=\"username\"\n          rules={[\n            {\n              required: true,\n              message: '请输入用户名',\n            },\n          ]}\n        >\n          <Input placeholder=\"请输入用户名\" />\n        </Form.Item>\n\n        <Form.Item\n          label=\"密码\"\n          name=\"password\"\n          rules={[\n            {\n              required: true,\n              message: '请输入密码!',\n            },\n          ]}\n        >\n          <Input.Password placeholder=\"请输入密码\" />\n        </Form.Item>\n\n        <Form.Item\n          wrapperCol={{\n            offset: 10,\n            span: 24,\n          }}\n        >\n          <Button type=\"primary\" htmlType=\"submit\">\n            登录\n          </Button>\n        </Form.Item>\n      </Form>\n    </Wrapper>\n  );\n};\n\nexport default SignIn;\n"],"sourceRoot":""}